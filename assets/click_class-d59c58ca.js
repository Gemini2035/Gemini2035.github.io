var c=Object.defineProperty;var u=(r,e,t)=>e in r?c(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var s=(r,e,t)=>(u(r,typeof e!="symbol"?e+"":e,t),t);import{q as h,Q as n}from"./index-820cf90b.js";import{S as g}from"./selfIntroController-54be88d4.js";class f{constructor(){s(this,"pageNum",0);s(this,"naviState",!0);s(this,"bgcolor","rgba(255, 255, 255, 1)");s(this,"fcolor","rgba(0, 0, 0, 0.9)");s(this,"nowTime","");s(this,"colorList",[{bgc:"rgba(255, 20, 147, 1)",fc:"rgba(255, 255, 255, 0.9)"},{bgc:"rgba(255, 182, 193, 1)",fc:"rgba(0, 0, 0, 0.7)"},{bgc:"rgba(220, 20, 60, 1)",fc:"rgba(255, 255, 255, 0.9)"},{bgc:"rgba(255, 69, 0, 1)",fc:"rgba(255, 255, 255, 0.9)"},{bgc:"rgba(240, 230, 140, 1)",fc:"rgba(0, 0, 0, 0.7)"},{bgc:"rgba(255, 239, 213, 1)",fc:"rgba(0, 0, 0, 0.7)"},{bgc:"rgba(0, 100, 0, 1)",fc:"rgba(255, 255, 255, 0.9)"},{bgc:"rgba(152, 251, 152, 1)",fc:"rgba(0, 0, 0, 0.7)"},{bgc:"rgba(240, 248, 255, 1)",fc:"rgba(0, 0, 0, 0.7)"},{bgc:"rgba(244, 255, 255, 1)",fc:"rgba(0, 0, 0, 0.7)"}]);s(this,"childrenRoutes",n.getRoutes().filter(e=>e.name==="home").at(0).children);this.colorPicker(),this.setTime()}getTime(){return this.nowTime}setTime(){const e=a=>`${a<10?"0":""}${a}`;var t=new Date;const i=`${t.getFullYear()}-${e(t.getMonth()+1)}-${e(t.getDate())} ${e(t.getHours())}:${e(t.getMinutes())}:${e(t.getSeconds())}`;this.nowTime=i}getPageNum(){return this.pageNum}setPageNum(e){this.pageNum=e,e===2&&g.resetAll(),n.push({name:this.childrenRoutes.at(e-1).name})}getNaviState(){return this.naviState}setNaviState(e){e===void 0?this.naviState=!this.naviState:this.naviState=e}getBgColor(){return this.bgcolor}getFColor(){return this.fcolor}colorPicker(){const e=this.bgcolor;let{bgc:t,fc:i}={bgc:"",fc:""};do({bgc:t,fc:i}=this.colorList[Math.floor(Math.random()*this.colorList.length)]);while(t===e);this.bgcolor=t,this.fcolor=i}getHomeChildRoutes(){return this.childrenRoutes}isActive(e){return this.pageNum===e}}const v=h(new f);class o{constructor(e,t){s(this,"page",0);s(this,"size",10);e!==void 0&&(this.page=e),t!==void 0&&(this.size=t)}}class b{constructor(){s(this,"sideNavi",!0);s(this,"searchState",!1);s(this,"menuData",[{title:"全部文章",titleEn:"All",key:-1},{title:"前端文章",titleEn:"Frontend",key:0},{title:"Python文章",titleEn:"",key:1},{title:"C/Cpp文章",titleEn:"",key:2},{title:"SwiftUI文章",titleEn:"",key:3},{title:"其他文章",titleEn:"Others",key:4}]);s(this,"searchResult",[]);s(this,"passageMenu",[]);s(this,"menuNum",-1);s(this,"isLoading",!1);s(this,"showMoreResult",!1);s(this,"queryInfo",new o);this.isLoading=!0,this.getPassageMenu().then(e=>{this.passageMenu=e,this.setSearchResult()}).finally(()=>this.isLoading=!1)}getIsLoading(){return this.isLoading}setIsLoading(e){e===void 0?this.isLoading=!this.isLoading:this.isLoading=e}getQueryData(){return this.queryInfo}setQueryData(e,t){Object.assign(this.queryInfo,new o(e===void 0?this.queryInfo.page+1:e,t===void 0?this.queryInfo.size:t))}getSideNaviState(){return this.sideNavi}setSideNaviState(e){e===void 0?this.sideNavi=!this.sideNavi:this.sideNavi=e}getMenuData(){return this.menuData}getMenuNum(){return this.menuNum}setMenuNum(e){this.menuNum=e}getSearchState(){return this.searchState}setSearchState(e){e===void 0?this.searchState=!this.searchState:this.searchState=e}getShowMoreResult(){return this.showMoreResult}getSearchResult(){return this.searchResult}setSearchResult(e){this.searchResult.length=0,this.showMoreResult=!1;let i=[];if(e?(i=this.passageMenu.filter(a=>{for(const l of Object.keys(a))try{return new RegExp(e,"i").test(a[l])}catch{continue}}),this.searchResult=i.slice(0,5)):i=this.passageMenu,!(i.length<5))for(this.showMoreResult=!0;this.searchResult.length<5;){const a=i[Math.floor(Math.random()*i.length)];this.searchResult.indexOf(a)===-1&&this.searchResult.push(a)}}async getPassageMenu(){if(this.passageMenu.length)return Promise.resolve(this.passageMenu);try{const t=await(await fetch("./src/data/essayMenu.json")).json();return this.isLoading=!1,Promise.resolve(t)}catch{return Promise.reject([])}}}const y=h(new b);class N{constructor(e,t){s(this,"clickType");s(this,"clickParm");this.clickType=e,this.clickParm=t}stringify(){return JSON.stringify(this)}}export{N as C,v as N,y as S};
